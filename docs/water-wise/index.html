<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Wise | æ™ºæ°´ç®¡å®¶</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ocean-deep: #1a5f7a;
            --ocean-light: #57c5b6;
            --foam: #e8f6f3;
            --coral: #ff6b6b;
            --sand: #f5f5dc;
            --text-dark: #2c3e50;
            --text-light: #7f8c8d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(180deg, var(--foam) 0%, #ffffff 100%);
            min-height: 100vh;
            color: var(--text-dark);
            line-height: 1.6;
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 24px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 32px;
            padding-top: 12px;
        }

        .logo {
            font-size: 48px;
            margin-bottom: 8px;
        }

        h1 {
            font-size: 28px;
            font-weight: 700;
            color: var(--ocean-deep);
            letter-spacing: -0.5px;
        }

        .subtitle {
            font-size: 14px;
            color: var(--text-light);
            margin-top: 4px;
            font-weight: 300;
        }

        /* æ°´æ³¢å‹•ç•«å®¹å™¨ */
        .wave-container {
            position: relative;
            width: 220px;
            height: 220px;
            margin: 0 auto 32px;
            border-radius: 50%;
            background: linear-gradient(180deg, var(--ocean-light) 0%, var(--ocean-deep) 100%);
            overflow: hidden;
            box-shadow: 
                0 20px 60px rgba(26, 95, 122, 0.3),
                inset 0 -10px 30px rgba(0,0,0,0.1);
        }

        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 200%;
            height: 100%;
            background: rgba(255,255,255,0.3);
            border-radius: 40%;
            animation: wave 8s linear infinite;
            transform-origin: 50% 50%;
        }

        .wave:nth-child(2) {
            background: rgba(255,255,255,0.2);
            border-radius: 45%;
            animation: wave 10s linear infinite;
        }

        .wave:nth-child(3) {
            background: rgba(255,255,255,0.15);
            border-radius: 42%;
            animation: wave 12s linear infinite;
        }

        @keyframes wave {
            0% { transform: translateX(-25%) rotate(0deg); }
            100% { transform: translateX(-75%) rotate(360deg); }
        }

        .water-info {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            z-index: 10;
        }

        .water-amount {
            font-size: 56px;
            font-weight: 700;
            line-height: 1;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .water-unit {
            font-size: 16px;
            font-weight: 400;
            opacity: 0.9;
        }

        .water-label {
            font-size: 13px;
            opacity: 0.85;
            margin-top: 4px;
            font-weight: 300;
        }

        /* çµ±è¨ˆå¡ç‰‡ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 28px;
        }

        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 16px 12px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.1);
        }

        .stat-icon {
            font-size: 24px;
            margin-bottom: 6px;
        }

        .stat-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--ocean-deep);
        }

        .stat-label {
            font-size: 11px;
            color: var(--text-light);
            margin-top: 2px;
            font-weight: 400;
        }

        /* å¿«é€Ÿè¨˜éŒ„å€ */
        .section {
            background: white;
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.05);
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .action-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 14px 16px;
            border: 2px solid var(--foam);
            border-radius: 14px;
            background: white;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
            font-size: 14px;
            color: var(--text-dark);
        }

        .action-btn:hover {
            border-color: var(--ocean-light);
            background: var(--foam);
            transform: scale(1.02);
        }

        .action-btn:active {
            transform: scale(0.98);
        }

        .action-icon {
            font-size: 22px;
        }

        .action-info {
            text-align: left;
        }

        .action-name {
            font-weight: 500;
            display: block;
        }

        .action-liter {
            font-size: 12px;
            color: var(--text-light);
        }

        /* è‡ªè¨‚è¼¸å…¥ */
        .custom-input {
            display: flex;
            gap: 10px;
            margin-top: 14px;
            padding-top: 14px;
            border-top: 1px dashed #e0e0e0;
        }

        .custom-input input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid var(--foam);
            border-radius: 12px;
            font-family: inherit;
            font-size: 15px;
            outline: none;
            transition: border-color 0.2s ease;
        }

        .custom-input input:focus {
            border-color: var(--ocean-light);
        }

        .add-btn {
            padding: 12px 20px;
            background: var(--ocean-deep);
            color: white;
            border: none;
            border-radius: 12px;
            font-family: inherit;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .add-btn:hover {
            background: var(--ocean-light);
            transform: scale(1.02);
        }

        /* è¨˜éŒ„åˆ—è¡¨ */
        .records-list {
            max-height: 280px;
            overflow-y: auto;
        }

        .record-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .record-item:last-child {
            border-bottom: none;
        }

        .record-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .record-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--foam);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .record-info {
            text-align: left;
        }

        .record-name {
            font-weight: 500;
            font-size: 14px;
        }

        .record-time {
            font-size: 12px;
            color: var(--text-light);
        }

        .record-amount {
            font-weight: 700;
            color: var(--coral);
            font-size: 15px;
        }

        .record-amount.good {
            color: var(--ocean-light);
        }

        /* ç¯€æ°´å»ºè­° */
        .tip-card {
            background: linear-gradient(135deg, var(--foam) 0%, #e0f7fa 100%);
            border-radius: 16px;
            padding: 18px;
            margin-top: 16px;
            border-left: 4px solid var(--ocean-light);
        }

        .tip-title {
            font-size: 14px;
            font-weight: 700;
            color: var(--ocean-deep);
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .tip-content {
            font-size: 13px;
            color: var(--text-dark);
            line-height: 1.6;
        }

        /* ç›®æ¨™é€²åº¦ */
        .goal-section {
            margin-top: 16px;
        }

        .goal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .goal-label {
            font-size: 13px;
            color: var(--text-light);
        }

        .goal-value {
            font-size: 13px;
            font-weight: 600;
            color: var(--ocean-deep);
        }

        .progress-bar {
            height: 10px;
            background: var(--foam);
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--ocean-light), var(--ocean-deep));
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        /* åº•éƒ¨ */
        footer {
            text-align: center;
            padding: 24px 0;
            font-size: 12px;
            color: var(--text-light);
        }

        footer .sdg-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--ocean-deep);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        /* å‹•ç•« */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        /* éŸ¿æ‡‰å¼ */
        @media (max-width: 400px) {
            .stats-grid {
                gap: 8px;
            }
            .stat-card {
                padding: 14px 8px;
            }
            .stat-value {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ’§</div>
            <h1>æ™ºæ°´ç®¡å®¶</h1>
            <p class="subtitle">Water Wise â€” æ¯ä¸€æ»´éƒ½çè²´</p>
        </header>

        <!-- æ°´æ³¢è¦–è¦ºåŒ– -->
        <div class="wave-container" id="waveContainer">
            <div class="wave"></div>
            <div class="wave"></div>
            <div class="wave"></div>
            <div class="water-info">
                <div class="water-amount" id="totalWater">0</div>
                <div class="water-unit">å…¬å‡</div>
                <div class="water-label">ä»Šæ—¥ç”¨æ°´</div>
            </div>
        </div>

        <!-- çµ±è¨ˆ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ğŸ¯</div>
                <div class="stat-value" id="goalPercent">0%</div>
                <div class="stat-label">ç›®æ¨™é”æˆ</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ’°</div>
                <div class="stat-value" id="moneySaved">$0</div>
                <div class="stat-label">ç¯€çœæ°´è²»</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸŒ</div>
                <div class="stat-value" id="comparison">0%</div>
                <div class="stat-label">å°æ¯”å¹³å‡</div>
            </div>
        </div>

        <!-- æ¯æ—¥ç›®æ¨™ -->
        <div class="section">
            <div class="section-title">
                <span>ğŸ¯</span>
                <span>æ¯æ—¥ç¯€æ°´ç›®æ¨™</span>
            </div>
            <div class="goal-section">
                <div class="goal-header">
                    <span class="goal-label">ç›®æ¨™ï¼š150 å…¬å‡ / æ—¥</span>
                    <span class="goal-value" id="goalText">0 / 150 L</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="goalProgress" style="width: 0%"></div>
                </div>
            </div>
            <div class="tip-card">
                <div class="tip-title">ğŸ’¡ ä»Šæ—¥ç¯€æ°´éŒ¦å›Š</div>
                <div class="tip-content" id="dailyTip">
                    åˆ·ç‰™æ™‚é—œæ‰æ°´é¾é ­ï¼Œæ¯æ¬¡å¯ç¯€çœç´„ 6 å…¬å‡æ°´ â€” ä¸€å¹´ä¸‹ä¾†ç­‰åŒç¯€çœ 2200 å…¬å‡ï¼
                </div>
            </div>
        </div>

        <!-- å¿«é€Ÿè¨˜éŒ„ -->
        <div class="section">
            <div class="section-title">
                <span>âš¡</span>
                <span>å¿«é€Ÿè¨˜éŒ„</span>
            </div>
            <div class="quick-actions">
                <button class="action-btn" onclick="addWater('æ·‹æµ´', 50, 'ğŸš¿')">
                    <span class="action-icon">ğŸš¿</span>
                    <span class="action-info">
                        <span class="action-name">æ·‹æµ´</span>
                        <span class="action-liter">50L</span>
                    </span>
                </button>
                <button class="action-btn" onclick="addWater('æ´—è¡£', 45, 'ğŸ‘•')">
                    <span class="action-icon">ğŸ‘•</span>
                    <span class="action-info">
                        <span class="action-name">æ´—è¡£</span>
                        <span class="action-liter">45L</span>
                    </span>
                </button>
                <button class="action-btn" onclick="addWater('æ´—ç¢—', 15, 'ğŸ½ï¸')">
                    <span class="action-icon">ğŸ½ï¸</span>
                    <span class="action-info">
                        <span class="action-name">æ´—ç¢—</span>
                        <span class="action-liter">15L</span>
                    </span>
                </button>
                <button class="action-btn" onclick="addWater('æ´—æ‰‹', 2, 'ğŸ§¼')">
                    <span class="action-icon">ğŸ§¼</span>
                    <span class="action-info">
                        <span class="action-name">æ´—æ‰‹</span>
                        <span class="action-liter">2L</span>
                    </span>
                </button>
                <button class="action-btn" onclick="addWater('æ²–å»', 6, 'ğŸš½')">
                    <span class="action-icon">ğŸš½</span>
                    <span class="action-info">
                        <span class="action-name">æ²–å»</span>
                        <span class="action-liter">6L</span>
                    </span>
                </button>
                <button class="action-btn" onclick="addWater('ç…®é£Ÿ', 8, 'ğŸ³')">
                    <span class="action-icon">ğŸ³</span>
                    <span class="action-info">
                        <span class="action-name">ç…®é£Ÿ</span>
                        <span class="action-liter">8L</span>
                    </span>
                </button>
            </div>
            <div class="custom-input">
                <input type="number" id="customAmount" placeholder="è‡ªè¨‚ç”¨æ°´é‡ (å…¬å‡)" min="0.1" step="0.1">
                <button class="add-btn" onclick="addCustomWater()">è¨˜éŒ„</button>
            </div>
        </div>

        <!-- ä»Šæ—¥è¨˜éŒ„ -->
        <div class="section">
            <div class="section-title">
                <span>ğŸ“</span>
                <span>ä»Šæ—¥è¨˜éŒ„</span>
            </div>
            <div class="records-list" id="recordsList">
                <div style="text-align: center; padding: 30px; color: var(--text-light);">
                    é‚„æ²’æœ‰è¨˜éŒ„ï¼Œé–‹å§‹è¨˜éŒ„ä½ çš„ç”¨æ°´å§ï¼ğŸ’§
                </div>
            </div>
        </div>

        <footer>
            <div class="sdg-badge">ğŸŒŠ SDG 6: æ¸…æ½”é£²æ°´å’Œè¡›ç”Ÿè¨­æ–½</div>
            <p>æ™ºæ°´ç®¡å®¶ â€” ç‚ºäº†å¯æŒçºŒçš„æœªä¾†</p>
            <p style="margin-top: 4px; opacity: 0.7;">è‡ªå‹•ç”Ÿæˆæ–¼ 2026-03-01 06:08 AM</p>
        </footer>
    </div>

    <script>
        // æ•¸æ“šå„²å­˜
        const STORAGE_KEY = 'waterWiseData';
        const DAILY_GOAL = 150; // é¦™æ¸¯äººå‡æ—¥ç”¨æ°´ç´„ 220Lï¼Œç›®æ¨™è¨­ç‚º 150L
        const COST_PER_LITER = 0.009; // é¦™æ¸¯æ°´è²»ç´„ $9/1000L

        // ç¯€æ°´éŒ¦å›Š
        const tips = [
            'åˆ·ç‰™æ™‚é—œæ‰æ°´é¾é ­ï¼Œæ¯æ¬¡å¯ç¯€çœç´„ 6 å…¬å‡æ°´ â€” ä¸€å¹´ä¸‹ä¾†ç­‰åŒç¯€çœ 2200 å…¬å‡ï¼',
            'å®‰è£ç¯€æ°´è“®è“¬é ­ï¼Œæ¯æ¬¡æ·‹æµ´å¯ç¯€çœé«˜é” 30% ç”¨æ°´é‡ã€‚',
            'æ´—èœæ°´å¯ç”¨ä¾†æ¾†èŠ±ï¼Œå¯¦ç¾æ°´è³‡æºå¾ªç’°åˆ©ç”¨ã€‚',
            'ä½¿ç”¨æ´—ç¢—æ©Ÿæ¯”æ‰‹æ´—æ›´çœæ°´ï¼ˆç•¶ç„¶è¦è£æ»¿æ‰é–‹ï¼‰ã€‚',
            'æª¢æŸ¥æ°´é¾é ­æ»´æ°´ï¼Œæ¯ç§’ä¸€æ»´ä¸€å¹´æµªè²»è¶…é 10,000 å…¬å‡ï¼',
            'ç¸®çŸ­æ·‹æµ´æ™‚é–“ï¼Œæ¯åˆ†é˜å¯ç¯€çœç´„ 10 å…¬å‡æ°´ã€‚',
            'æ´—è¡£æ™‚é¸æ“‡ç¯€æ°´æ¨¡å¼ï¼Œæˆ–ç­‰åˆ°ç´¯ç©è¶³å¤ è¡£ç‰©æ‰æ´—ã€‚'
        ];

        let records = [];

        // åˆå§‹åŒ–
        function init() {
            loadData();
            updateDisplay();
            setDailyTip();
        }

        // è¼‰å…¥æ•¸æ“š
        function loadData() {
            const saved = localStorage.getItem(STORAGE_KEY);
            const today = new Date().toDateString();
            
            if (saved) {
                const data = JSON.parse(saved);
                if (data.date === today) {
                    records = data.records || [];
                } else {
                    records = []; // æ–°çš„ä¸€å¤©ï¼Œé‡ç½®
                }
            }
        }

        // å„²å­˜æ•¸æ“š
        function saveData() {
            const data = {
                date: new Date().toDateString(),
                records: records
            };
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        }

        // æ–°å¢è¨˜éŒ„
        function addWater(activity, amount, icon) {
            const record = {
                id: Date.now(),
                activity,
                amount,
                icon,
                time: new Date().toLocaleTimeString('zh-HK', { hour: '2-digit', minute: '2-digit' })
            };
            records.unshift(record);
            saveData();
            updateDisplay();
            animateWave();
        }

        // è‡ªè¨‚è¨˜éŒ„
        function addCustomWater() {
            const input = document.getElementById('customAmount');
            const amount = parseFloat(input.value);
            
            if (amount && amount > 0) {
                addWater('è‡ªè¨‚é …ç›®', amount, 'ğŸ’§');
                input.value = '';
            }
        }

        // æ›´æ–°é¡¯ç¤º
        function updateDisplay() {
            const total = records.reduce((sum, r) => sum + r.amount, 0);
            const goalPercent = Math.min(Math.round((total / DAILY_GOAL) * 100), 100);
            const comparison = Math.round(((220 - total) / 220) * 100);
            const moneySaved = Math.max(0, ((220 - total) * COST_PER_LITER)).toFixed(1);

            // æ›´æ–°ç¸½ç”¨æ°´é‡
            document.getElementById('totalWater').textContent = total.toFixed(1);
            
            // æ›´æ–°çµ±è¨ˆ
            document.getElementById('goalPercent').textContent = goalPercent + '%';
            document.getElementById('moneySaved').textContent = '$' + moneySaved;
            document.getElementById('comparison').textContent = (comparison > 0 ? '-' : '+') + Math.abs(comparison) + '%';
            document.getElementById('comparison').parentElement.querySelector('.stat-value').className = 
                'stat-value' + (comparison > 0 ? ' good' : '');

            // æ›´æ–°ç›®æ¨™é€²åº¦
            document.getElementById('goalText').textContent = `${total.toFixed(1)} / ${DAILY_GOAL} L`;
            document.getElementById('goalProgress').style.width = Math.min((total / DAILY_GOAL) * 100, 100) + '%';

            // æ›´æ–°è¨˜éŒ„åˆ—è¡¨
            updateRecordsList();
        }

        // æ›´æ–°è¨˜éŒ„åˆ—è¡¨
        function updateRecordsList() {
            const container = document.getElementById('recordsList');
            
            if (records.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: var(--text-light);">
                        é‚„æ²’æœ‰è¨˜éŒ„ï¼Œé–‹å§‹è¨˜éŒ„ä½ çš„ç”¨æ°´å§ï¼ğŸ’§
                    </div>
                `;
                return;
            }

            container.innerHTML = records.map(r => `
                <div class="record-item">
                    <div class="record-left">
                        <div class="record-icon">${r.icon}</div>
                        <div class="record-info">
                            <div class="record-name">${r.activity}</div>
                            <div class="record-time">${r.time}</div>
                        </div>
                    </div>
                    <div class="record-amount">-${r.amount}L</div>
                </div>
            `).join('');
        }

        // è¨­ç½®æ¯æ—¥éŒ¦å›Š
        function setDailyTip() {
            const dayIndex = new Date().getDay();
            document.getElementById('dailyTip').textContent = tips[dayIndex % tips.length];
        }

        // æ°´æ³¢å‹•ç•«
        function animateWave() {
            const container = document.getElementById('waveContainer');
            container.classList.add('pulse');
            setTimeout(() => container.classList.remove('pulse'), 500);
        }

        // Enter éµæäº¤
        document.getElementById('customAmount')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') addCustomWater();
        });

        // å•Ÿå‹•
        init();
    </script>
</body>
</html>
